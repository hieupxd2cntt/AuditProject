#pragma checksum "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "c5e1d9919e79eb52187e47f1b7053473da31eedd"
// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace WebAppCoreBlazorServer.Components
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using WebAppCoreBlazorServer;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using WebAppCoreBlazorServer.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Blazored.Modal;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Blazored.Modal.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Radzen;

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\_Imports.razor"
using Radzen.Blazor;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using WebModelCore;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using WebModelCore.CodeInfo;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using WebModelCore.Common;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using WebAppCoreBlazorServer.Common;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using WebAppCoreBlazorServer.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using Microsoft.AspNetCore.Mvc.Rendering;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using Microsoft.Extensions.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using WebAppCoreBlazorServer.BUS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using WebCore.Entities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using Microsoft.Extensions.Caching.Distributed;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using WebModelCore.LogicCondition;

#line default
#line hidden
#nullable disable
#nullable restore
#line 21 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
using WebAppCoreBlazorServer.Common;

#line default
#line hidden
#nullable disable
    public partial class ScheduleControl : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 361 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorServer\Components\ScheduleControl.razor"
       
    [Parameter]
    public ModuleFieldInfo field { get; set; }
    [Parameter]
    public List<CodeInfoModel> dataComboBoxs { get; set; }
    [Parameter]
    public List<LanguageInfo> languageInfos { get; set; }
    [Parameter]
    public string subMod { get; set; }
    [Parameter]
    public List<dynamic> dataEdit { get; set; }
    [Parameter]
    public string modName { get; set; } = "";
    [Parameter]
    public string keyEdit { get; set; } = "";
    [Parameter]
    public int pageSlide { get; set; } = 0;
    [Parameter]
    public List<ModuleFieldInfo> fieldSubmited { get; set; } = null;
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    private async Task ControlOnchange(ChangeEventArgs e)
    {
        field.Value = (e.Value ?? "").ToString();
        HomeBus homeBus = new HomeBus(moduleService, iConfiguration, distributedCache);
        var codeInfoParrams = new List<CodeInfoParram>();
        if (!string.IsNullOrEmpty(field.Callback))
        {
            var codeInfoParram = new CodeInfoParram
            {
                Name = field.FieldName,
                CtrlType = field.ControlType,
                ListSource = field.Callback,
                Parrams = (e.Value ?? "").ToString()
            };
            codeInfoParrams.Add(codeInfoParram);
            var loadCallBacks = await homeBus.LoadDataListSourceControl(codeInfoParrams);
            foreach (var item in loadCallBacks)
            {
                if (!String.IsNullOrEmpty(item.DataCallBack))
                {
                    var dataCallBackControls = JsonConvert.DeserializeObject<List<dynamic>>(item.DataCallBack);
                    foreach (var controlCallBack in dataCallBackControls)
                    {
                        var name = ((Newtonsoft.Json.Linq.JProperty)((Newtonsoft.Json.Linq.JContainer)controlCallBack).First).Name;
                        var value = ((Newtonsoft.Json.Linq.JProperty)((Newtonsoft.Json.Linq.JContainer)controlCallBack).First).Value;
                        var arr = new string[2];
                        arr[0] = name;
                        arr[1] = value == null ? "" : value.ToString();
                        await JSRuntime.InvokeVoidAsync("SetValueControl", arr);
                    }
                }
            }
        }
    }
    //[Parameter]
    //public EventCallback<MouseEventArgs> OnClickCallback { get; set; }

    #region Call modal khi áº¥n Event
    public async Task CallMod(string callModId, string modSearchId)
    {
        HomeBus homeBus = new HomeBus(moduleService, iConfiguration, distributedCache);
        var mod = await homeBus.GetModule(callModId);
        if (mod != null && mod.ModulesInfo.Any())
        {
            if (mod.ModulesInfo.First().UIType == EUITYPE.P.ToString())
            {
                ModalParameters parameters = new ModalParameters();
                //{modId}/{modSearchId}
                parameters.Add("modId", callModId);
                parameters.Add("modSearchId", modSearchId);
                //Modal.Show<Pages.Edit>(moduleInfoModel.ModulesInfo.ModuleName.GetLanguageTitle(moduleInfoModel.LanguageInfo), parameters);
            }
            else
            {
                NavManager.NavigateTo(String.Format("/Edit/{0}/{1}", callModId, modSearchId));
            }
        }
    }
    public async Task CallMod(string callModId, string modSearchId, string fieldNameEdit, string parram, string pedit)
    {
        HomeBus homeBus = new HomeBus(moduleService, iConfiguration, distributedCache);
        var mod = await homeBus.GetModule(callModId);
        if (mod != null && mod.ModulesInfo.Any())
        {
            if (mod.ModulesInfo.First().UIType == EUITYPE.P.ToString())
            {
                ModalParameters parameters = new ModalParameters();
                //{modId}/{modSearchId}
                parameters.Add("modId", callModId);
                parameters.Add("modSearchId", modSearchId);
                parameters.Add("fieldNameEdit", fieldNameEdit);
                parameters.Add("parram", parram);
                parameters.Add("pedit", pedit);
               // Modal.Show<Pages.Edit>(moduleInfoModel.ModulesInfo.ModuleName.GetLanguageTitle(moduleInfoModel.LanguageInfo), parameters);
            }
            else
            {
                NavManager.NavigateTo(String.Format("/Edit/{0}/{1}/{2}/{3}/{4}", callModId, modSearchId, fieldNameEdit, parram, pedit));
            }
        }
    }
    #endregion

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IModuleService moduleService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IDistributedCache distributedCache { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IConfiguration iConfiguration { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IModalService Modal { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
    }
}
#pragma warning restore 1591
