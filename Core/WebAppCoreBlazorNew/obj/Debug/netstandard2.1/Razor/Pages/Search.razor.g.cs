#pragma checksum "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "e2b6ef24e3012227d01591be33e4a200d365b070"
// <auto-generated/>
#pragma warning disable 1591
namespace WebAppCoreBlazorNew.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\_Imports.razor"
using WebAppCoreBlazorNew;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\_Imports.razor"
using WebAppCoreBlazorNew.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using WebModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using System.Web.Mvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using WebModel.CodeInfo;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using WebModel.Common;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using WebAppCoreBlazorNew.Common;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using WebAppCoreBlazorWebAssembly.Service;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using Microsoft.Extensions.Configuration;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using WebAppCoreBlazorNew.BUS;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using WebCore.Entities;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
using Microsoft.Extensions.Caching.Distributed;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/Search")]
    public partial class Search : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "input");
            __builder.AddAttribute(1, "type", "hidden");
            __builder.AddAttribute(2, "id", "txtModId");
            __builder.AddAttribute(3, "name", "ModId");
            __builder.AddAttribute(4, "value", 
#nullable restore
#line 18 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                        modId

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(5, "\r\n");
#nullable restore
#line 19 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
  
    var fieldSearch = moduleFieldInfo==null? new List<ModuleFieldInfo>() : moduleFieldInfo.Where(x => x.FieldGroup == FLDGROUP.SEARCH_CONDITION && x.HideWeb != "Y").ToList();
    var row = fieldSearch.Count() / 6;
    var rowNotFull = fieldSearch.Count() % 6;
    bool hasShowBtnSearch = false;
    int rowSearch = row + (rowNotFull > 0 ? 1 : 0);

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(6, "\r\n");
            __builder.OpenElement(7, "div");
            __builder.AddAttribute(8, "class", "col-12 margin-top-10  not-show-print");
            __builder.AddMarkupContent(9, "\r\n    ");
            __builder.OpenElement(10, "div");
            __builder.AddAttribute(11, "class", "card");
            __builder.AddMarkupContent(12, "\r\n        ");
            __builder.AddMarkupContent(13, "<div class=\"card-header\">\r\n            <h3 class=\"card-title\">Tìm kiếm </h3>\r\n        </div>\r\n        ");
            __builder.OpenElement(14, "div");
            __builder.AddAttribute(15, "class", "card-body");
            __builder.AddMarkupContent(16, "\r\n");
            __builder.AddContent(17, "                ");
            __builder.OpenElement(18, "div");
            __builder.AddAttribute(19, "class", "row");
            __builder.AddMarkupContent(20, "\r\n                    ");
            __builder.OpenElement(21, "div");
            __builder.AddAttribute(22, "class", "form-group");
            __builder.AddMarkupContent(23, "\r\n                        ");
            __builder.AddMarkupContent(24, "<label>Thuộc tính</label>\r\n                        ");
            __builder.OpenElement(25, "select");
            __builder.AddAttribute(26, "name", "controlName");
            __builder.AddAttribute(27, "id", "controlName");
            __builder.AddAttribute(28, "class", "form-control select2");
            __builder.AddMarkupContent(29, "\r\n");
#nullable restore
#line 38 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                             foreach (var control in lstControl)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(30, "                                ");
            __builder.OpenElement(31, "option");
            __builder.AddAttribute(32, "value", 
#nullable restore
#line 40 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                control.Value

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(33, 
#nullable restore
#line 40 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                control.Text

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(34, "\r\n");
#nullable restore
#line 41 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(35, "                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(36, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(37, "\r\n                    ");
            __builder.AddMarkupContent(38, "<div class=\"col-2\">\r\n                        <button class=\"btn btn-info btn-search btn-flat\" type=\"button\" id=\"btnAddCondition\"> <i class=\"fa fa-plus\"></i> Add</button>\r\n                    </div>\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(39, "\r\n                ");
            __builder.AddMarkupContent(40, "<div class=\"row\" id=\"divSearchCondition\"> </div>\r\n");
#nullable restore
#line 49 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                 if (!hasShowBtnSearch)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(41, "                    ");
            __builder.AddMarkupContent(42, @"<div class=""row margin-top-10 not-show-print"">
                        <div class=""col-12 col-lg-12"">
                            <div class=""form-group left col-lg-2 col-2"">
                                <button class=""btn btn-info btn-search btn-flat"" type=""submit"" id=""btnSearch""> <i class=""fa fa-search""></i> Tìm kiếm</button>
                            </div>
                        </div>
                    </div>
");
#nullable restore
#line 58 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(43, "        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(44, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(45, "\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(46, "\r\n\r\n");
            __builder.OpenElement(47, "input");
            __builder.AddAttribute(48, "type", "hidden");
            __builder.AddAttribute(49, "value", 
#nullable restore
#line 64 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                             currPage

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(50, "name", "CurrPage");
            __builder.AddAttribute(51, "id", "currPage");
            __builder.CloseElement();
            __builder.AddMarkupContent(52, "\r\n");
            __builder.OpenElement(53, "div");
            __builder.AddAttribute(54, "class", "col-12");
            __builder.AddMarkupContent(55, "\r\n    ");
            __builder.OpenElement(56, "div");
            __builder.AddAttribute(57, "class", "card");
            __builder.AddMarkupContent(58, "\r\n        ");
            __builder.OpenElement(59, "div");
            __builder.AddAttribute(60, "class", "card-header");
            __builder.AddMarkupContent(61, "\r\n            ");
            __builder.AddMarkupContent(62, "<div class=\"col-3 col-lg-3 left not-show-print\">\r\n                <h3 class=\"card-title\">Kết quả tìm kiếm</h3>\r\n            </div>\r\n");
#nullable restore
#line 71 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
              
                if (btnInfos != null)
                {
                    if (btnInfos.Count() > 0)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(63, "                        ");
            __builder.OpenElement(64, "div");
            __builder.AddAttribute(65, "class", "col-9 col-lg-9 right not-show-print");
            __builder.AddMarkupContent(66, "\r\n");
#nullable restore
#line 77 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                              
                                foreach (var item in btnInfos)
                                {
                                    if (item.ButtonName.ToUpper() != EDefModBtn.BTN_VIEW.ToString().ToUpper() && item.ButtonName.ToUpper() != EDefModBtn.BTN_EDIT.ToString().ToUpper())
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(67, "                                        ");
            __builder.OpenElement(68, "div");
            __builder.AddAttribute(69, "class", "right margin-r-10");
            __builder.AddMarkupContent(70, "\r\n");
#nullable restore
#line 83 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                             if (checkBtnDels.Any())
                                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(71, "                                                ");
            __builder.OpenElement(72, "input");
            __builder.AddAttribute(73, "type", "hidden");
            __builder.AddAttribute(74, "value", 
#nullable restore
#line 85 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                             checkBtnDels.First().CallSubModule

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(75, "id", "txtSubModDel");
            __builder.CloseElement();
            __builder.AddMarkupContent(76, "\r\n                                                ");
            __builder.OpenElement(77, "input");
            __builder.AddAttribute(78, "type", "hidden");
            __builder.AddAttribute(79, "value", 
#nullable restore
#line 86 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                             checkBtnDels.First().CallModuleID

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(80, "id", "txtModDel");
            __builder.CloseElement();
            __builder.AddMarkupContent(81, "\r\n");
#nullable restore
#line 87 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                            }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(82, "\r\n");
#nullable restore
#line 89 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                              
                                                if (item.ButtonName.ToUpper() == EDefModBtn.BTN_ADD.ToString().ToUpper() && checkBtnEdits.Count() > 0 && (groupMods.Where(x => x.ModId == checkBtnEdits.First().CallModuleID).Count() > 0))
                                                {
                                                    //<a href="@Url.Action("Edit","Home",new {modSearchId=modId, modId=checkBtnEdits.First().CallModuleID,subModId=checkBtnEdits.First().CallSubModule,parram=ViewBag.ParramMods})"><button class="btn btn-default btn-primary" name=" @item.ButtonName"><i class="fa fa-plus" title="Thêm"></i> @item.ButtonName.GetLanguageBtn(moduleInfoModel.LanguageInfo)</button></a>
                                                }
                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 99 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                       
                                                else if (item.ButtonName.ToUpper() == EDefModBtn.BTN_EXPORT.ToString().ToUpper())
                                                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(83, "                                                    ");
            __builder.OpenElement(84, "button");
            __builder.AddAttribute(85, "class", "btn btn-default");
            __builder.AddAttribute(86, "id", "btn" + (
#nullable restore
#line 102 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                             item.ButtonName

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(87, "name", 
#nullable restore
#line 102 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                      item.ButtonName

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(88, "onclick", "$(\'#btnExport\').click()");
            __builder.AddMarkupContent(89, "<i class=\"fa fa-file-excel\" title=\"Xuất Excel\"></i>Xuất Excel");
            __builder.CloseElement();
            __builder.AddMarkupContent(90, "\r\n");
#nullable restore
#line 103 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                }
                                                else if (item.ButtonName.ToUpper() == EDefModBtn.BTN_PRINT.ToString().ToUpper())
                                                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(91, "                                                    ");
            __builder.OpenElement(92, "button");
            __builder.AddAttribute(93, "class", "btn btn-default btn-print");
            __builder.AddAttribute(94, "id", "btn" + (
#nullable restore
#line 106 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                       item.ButtonName

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(95, "name", 
#nullable restore
#line 106 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                                item.ButtonName

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(96, "<i class=\"fa fa-print\" title=\"IN\"></i>In");
            __builder.CloseElement();
            __builder.AddMarkupContent(97, "\r\n");
#nullable restore
#line 107 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                }
                                                else if (groupMods.Where(x => x.ModId == item.CallModuleID).Count() > 0)
                                                {
                                                    if (item.ButtonName.ToUpper() != EDefModBtn.BTN_DELETE.ToString().ToUpper())
                                                    {
                                                        //<a href="@Url.Action("Index","Home",new {modId=item.CallModuleID} )" class="btn btn-default" id="btn@(item.ButtonName)" name="@item.ButtonName"> @item.ButtonName.GetLanguageBtn(moduleInfoModel.LanguageInfo)</a>
                                                    }
                                                }
                                            

#line default
#line hidden
#nullable disable
            __builder.AddContent(98, "                                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(99, "\r\n");
#nullable restore
#line 117 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                    }
                                }
                            

#line default
#line hidden
#nullable disable
            __builder.AddContent(100, "                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(101, "\r\n");
#nullable restore
#line 121 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                    }
                }
            

#line default
#line hidden
#nullable disable
            __builder.AddContent(102, "        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(103, "\r\n        ");
            __builder.OpenElement(104, "div");
            __builder.AddAttribute(105, "class", "card-body");
            __builder.AddMarkupContent(106, "\r\n            ");
            __builder.OpenElement(107, "div");
            __builder.AddAttribute(108, "class", "row col-md-12 col-lg-12 margin-top-10");
            __builder.AddMarkupContent(109, "\r\n                ");
            __builder.OpenElement(110, "div");
            __builder.AddAttribute(111, "class", "table-responsive");
            __builder.AddMarkupContent(112, "\r\n                    ");
            __builder.OpenElement(113, "table");
            __builder.AddAttribute(114, "class", "table table-bordered table-responsive-md table-responsive-lg table-striped");
            __builder.AddMarkupContent(115, "\r\n                        ");
            __builder.OpenElement(116, "thead");
            __builder.AddAttribute(117, "class", "h-head");
            __builder.AddMarkupContent(118, "\r\n");
#nullable restore
#line 130 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                              
                                var fieldGrid = moduleFieldInfo.Where(x => x.FieldGroup == FLDGROUP.SEARCH_COLUMN).ToList();
                                foreach (var item in fieldGrid)
                                {
                                    if (item.HideWeb == "Y")
                                    {
                                        continue;
                                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(119, "                                ");
            __builder.OpenElement(120, "th");
            __builder.AddContent(121, 
#nullable restore
#line 138 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                     item.FieldName.GetLanguage(moduleInfoModel.LanguageInfo, moduleInfoModel.ModulesInfo.ModuleName)

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(122, "\r\n");
#nullable restore
#line 139 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                            }

                            if (checkColAction.Any())
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(123, "                                ");
            __builder.AddMarkupContent(124, "<th>Hành động</th>\r\n");
#nullable restore
#line 144 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                            }
                            

#line default
#line hidden
#nullable disable
            __builder.AddContent(125, "                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(126, "\r\n                            ");
            __builder.OpenElement(127, "tbody");
            __builder.AddAttribute(128, "id", "tbody");
            __builder.AddMarkupContent(129, "\r\n");
#nullable restore
#line 148 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                  
                                    var data = new List<dynamic>()/*ViewBag.DataSearch*/;
                                    if (parramEdit.Any() && data != null)
                                    {
                                        foreach (var item in parramEdit)
                                        {

                                            foreach (var dataSearch in data)
                                            {
                                                var dataRows = ((Newtonsoft.Json.Linq.JContainer)dataSearch);
                                                foreach (var datarow in dataRows)
                                                {
                                                    var columnName = ((Newtonsoft.Json.Linq.JProperty)datarow).Name;
                                                    if (columnName.ToUpper() == item.FieldName.ToUpper())
                                                    {
                                                        if (datarow != null && ((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)datarow).Value) != null)
                                                        {
                                                            item.Value = (((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)datarow).Value).Value ?? "").ToString();
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    if (data == null)
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(130, "                                        ");
            __builder.OpenElement(131, "tr");
            __builder.AddMarkupContent(132, "\r\n                                            ");
            __builder.OpenElement(133, "td");
            __builder.AddAttribute(134, "colspan", 
#nullable restore
#line 175 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                           fieldGrid.Count()+(checkBtnDel?1:0) -1 + (checkColAction.Any()?1:0)

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(135, "Không có dữ liệu");
            __builder.CloseElement();
            __builder.AddMarkupContent(136, "\r\n                                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(137, "\r\n");
#nullable restore
#line 177 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                    }
                                    else if (!data.Any())
                                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(138, "                                        ");
            __builder.OpenElement(139, "tr");
            __builder.AddMarkupContent(140, "\r\n                                            ");
            __builder.OpenElement(141, "td");
            __builder.AddAttribute(142, "colspan", 
#nullable restore
#line 181 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                           fieldGrid.Count()+(checkBtnDel?1:0)-1 + (checkColAction.Any()?1:0)

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(143, "Không có dữ liệu");
            __builder.CloseElement();
            __builder.AddMarkupContent(144, "\r\n                                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(145, "\r\n");
#nullable restore
#line 183 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                    }
                                    else
                                    {
                                        foreach (var item in data)
                                        {
                                            var dataRows = ((Newtonsoft.Json.Linq.JContainer)item);
                                            var valueEdit = "";
                                            var valueDelete = "";
                                            var checkAll = 1;
                                            var dataModQc = "";
                                            var attrsetId = 0;
                                            var barcode = "";
                                            var groupId = 0;
                                            var modeCallEdit = "";
                                            if (checkBtnViews.Any())
                                            {
                                                modeCallEdit = checkBtnViews.First().CallModuleID;
                                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(146, "                                            ");
            __builder.OpenElement(147, "tr");
            __builder.AddMarkupContent(148, "\r\n");
#nullable restore
#line 202 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                 foreach (var col in fieldGrid)
                                                {
                                                    if (col.HideWeb == "Y")
                                                    {
                                                        continue;
                                                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(149, "                                                    ");
            __builder.OpenElement(150, "td");
            __builder.AddMarkupContent(151, "\r\n");
#nullable restore
#line 209 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                          
                                                            foreach (var column in dataRows)
                                                            {
                                                                var columnName = ((Newtonsoft.Json.Linq.JProperty)column).Name;
                                                                if (modeCallEdit == "02519" && columnName.ToUpper() == "GroupId".ToUpper())
                                                                {
                                                                    groupId = int.Parse(((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)column).Value).Value.ToString());
                                                                }
                                                                if (columnName.ToUpper() == col.FieldName.ToUpper())
                                                                {
                                                                    if (!string.IsNullOrEmpty(col.ListSource))
                                                                    {
                                                                        if (((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)column).Value).Value != null)
                                                                        {
                                                                            col.FieldID = ((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)column).Value).Value.ToString();
                                                                            var text = col.GetValueGridControl(codeInfos);

#line default
#line hidden
#nullable disable
            __builder.AddContent(152, "                                                                            ");
            __builder.OpenElement(153, "span");
            __builder.AddAttribute(154, "field", 
#nullable restore
#line 225 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                          col.FieldName

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(155, "title", 
#nullable restore
#line 225 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                 text

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(156, 
#nullable restore
#line 225 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                         text.Length > 50 ? text.Substring(0, 50) + "..." : text

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(157, "\r\n");
#nullable restore
#line 226 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                        }
                                                                    }
                                                                    else
                                                                    {
                                                                        var text = (((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)column).Value).Value ?? "").ToString();

#line default
#line hidden
#nullable disable
            __builder.AddContent(158, "                                                                        ");
            __builder.OpenElement(159, "span");
            __builder.AddAttribute(160, "field", 
#nullable restore
#line 231 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                      col.FieldName

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(161, "title", 
#nullable restore
#line 231 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                             text

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(162, 
#nullable restore
#line 231 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                     text.Length > 50 ? text.Substring(0, 50) + "..." : text

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(163, "\r\n");
#nullable restore
#line 232 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                    }
                                                                    checkAll++;
                                                                }
                                                                foreach (var prrView in parramView)
                                                                {
                                                                    if (prrView.ColumnName.ToUpper() == columnName.ToUpper())
                                                                    {
                                                                        prrView.Value = (((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)column).Value).Value ?? "").ToString();
                                                                    }
                                                                }
                                                                foreach (var prrEdit in parramEdit)
                                                                {
                                                                    if (prrEdit.ColumnName.ToUpper() == columnName.ToUpper())
                                                                    {
                                                                        prrEdit.Value = (((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)column).Value).Value ?? "").ToString();
                                                                    }
                                                                }
                                                                foreach (var prrDel in parramDel)
                                                                {
                                                                    if (prrDel.ColumnName.ToUpper() == columnName.ToUpper())
                                                                    {
                                                                        prrDel.Value = (((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)column).Value).Value ?? "").ToString();
                                                                    }
                                                                }
                                                                foreach (var prrAssign in parramAssignUser)
                                                                {
                                                                    if (prrAssign.ColumnName.ToUpper() == columnName.ToUpper())
                                                                    {
                                                                        prrAssign.Value = (((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)column).Value).Value ?? "").ToString();
                                                                    }
                                                                }
                                                                if (columnName.ToUpper() == "TotalRow".ToUpper())
                                                                {
                                                                    totalRow = int.Parse(((Newtonsoft.Json.Linq.JValue)((Newtonsoft.Json.Linq.JProperty)column).Value).Value.ToString());
                                                                }
                                                            }
                                                        

#line default
#line hidden
#nullable disable
            __builder.AddContent(164, "                                                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(165, "\r\n");
#nullable restore
#line 270 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 271 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                 if (checkColAction.Any())
                                                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(166, "                                                    ");
            __builder.OpenElement(167, "td");
            __builder.AddMarkupContent(168, "\r\n");
#nullable restore
#line 274 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                          
                                                            if (checkBtnView)
                                                            {
                                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 277 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                                                                                                                                                                                                                                                                                                         
                                                            }

                                                            if (checkBtnEdit && groupMods.Where(x => x.ModId == checkBtnEdits.First().CallModuleID).Count() > 0 && (checkBtnViews.Count() > 0 && checkBtnViews.First().CallModuleID != "02519"))
                                                            {
                                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 282 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                                                                                                                                                                                                                                                                                                        
                                                            }
                                                            if (checkBtnAssignRole)
                                                            {
                                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 286 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                                                                                                                                                                                                                                                                                                      
                                                            }
                                                            if (checkBtnAssignUser)
                                                            {
                                                                

#line default
#line hidden
#nullable disable
#nullable restore
#line 290 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                                                                                                                                                                                                                                                   
                                                            }
                                                            if (checkBtnDel && groupMods.Where(x => x.ModId == checkBtnDels.First().CallModuleID).Count() > 0)
                                                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(169, "                                                                ");
            __builder.OpenElement(170, "input");
            __builder.AddAttribute(171, "type", "hidden");
            __builder.AddAttribute(172, "value", 
#nullable restore
#line 294 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                             Newtonsoft.Json.JsonConvert.SerializeObject(parramDel).ToString()

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(173, "class", "txtKeyDel key-Del");
            __builder.CloseElement();
            __builder.AddMarkupContent(174, "\r\n                                                                ");
            __builder.OpenElement(175, "a");
            __builder.AddAttribute(176, "href", "#");
            __builder.AddAttribute(177, "class", "action-del btn-danger btn-sm delete-asset");
            __builder.AddAttribute(178, "key-del", 
#nullable restore
#line 295 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                                                                                                        Newtonsoft.Json.JsonConvert.SerializeObject(parramDel).ToString()

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(179, "<i class=\"fa fa-trash-alt\" title=\"DEL\"></i>");
            __builder.CloseElement();
            __builder.AddMarkupContent(180, "\r\n");
#nullable restore
#line 296 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                            }
                                                        

#line default
#line hidden
#nullable disable
            __builder.AddContent(181, "                                                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(182, "\r\n");
#nullable restore
#line 299 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                                }

#line default
#line hidden
#nullable disable
            __builder.AddContent(183, "                                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(184, "\r\n");
#nullable restore
#line 301 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
                                        }
                                    }
                                

#line default
#line hidden
#nullable disable
            __builder.AddContent(185, "                            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(186, "\r\n                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(187, "\r\n                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(188, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(189, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(190, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(191, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(192, "\r\n    ");
            __builder.OpenComponent<WebAppCoreBlazorNew.Shared.SurveyPrompt>(193);
            __builder.AddAttribute(194, "Title", "How is Blazor working for you?");
            __builder.CloseComponent();
        }
        #pragma warning restore 1998
#nullable restore
#line 322 "G:\ATuanLM\AuditProject\Audit\Program\Core\WebAppCoreBlazorNew\Pages\Search.razor"
          
        //[Parameter]
        public string modId { get; set; } = "03200";
        //[Parameter]
        public string parramMods { get; set; } = "";
        public string Title { get; set; } = "";
        private string Schema { get; set; } = "core";
        public ModuleInfoModel moduleInfoModel { get; set; } = new ModuleInfoModel();
        public ModuleInfoModel ModuleInfo { get; set; } = new ModuleInfoModel();
        public List<ModuleFieldInfo> moduleFieldInfo { get; set; } = new List<ModuleFieldInfo>();
        public List<SelectListItem> lstControl { get; set; } = new List<SelectListItem>();
        public List<ModuleFieldInfo> fieldSubmited { get; set; } = new List<ModuleFieldInfo>();
        public List<GroupMod> groupMods { get; set; } = new List<GroupMod>();
        public List<ButtonInfo> btnInfos { get; set; } = new List<ButtonInfo>();
        public List<CodeInfoModel> codeInfos { get; set; } = new List<CodeInfoModel>();
        public List<ButtonInfo> checkBtnViews { get; set; } = new List<ButtonInfo>();
        public List<ButtonInfo> checkColAction { get; set; } = new List<ButtonInfo>();
        public List<ButtonInfo> checkBtnEdits { get; set; } = new List<ButtonInfo>();
        public List<ButtonInfo> checkBtnDels { get; set; } = new List<ButtonInfo>();
        public List<ButtonInfo> checkBtnAssRole { get; set; } = new List<ButtonInfo>();
        public List<ButtonInfo> checkBtnAssUsers { get; set; } = new List<ButtonInfo>();

        public List<GroupMod> RoleUser { get; set; } = new List<GroupMod>();

        public bool checkBtnDel { get; set; }
        public bool checkBtnView { get; set; }
        public bool checkBtnEdit { get; set; }
        public bool checkBtnAssignRole { get; set; }
        public bool checkBtnAssignUser { get; set; }


        public List<ButtonParamInfo> parramEdit { get; set; } = new List<ButtonParamInfo>();
        public List<ButtonParamInfo> parramView { get; set; } = new List<ButtonParamInfo>();
        public List<ButtonParamInfo> parramDel { get; set; } = new List<ButtonParamInfo>();
        public List<ButtonParamInfo> parramAssignUser { get; set; } = new List<ButtonParamInfo>();
        public List<CodeInfoModel> DataCombobox { get; set; } = new List<CodeInfoModel>();
        public int currPage { get; set; }
        public int totalRow { get; set; }
        public List<dynamic> DataSearch { get; set; } = new List<dynamic>();
        protected override async Task OnInitializedAsync()
        {
            try
            {
                //if (string.IsNullOrEmpty(HttpContext.Session.GetString("UserName")) && modId.ToLower() != ConstMod.ModListHomo.ToLower())
                //{
                //    return RedirectToAction("Login", "Home");
                //    NavigationManager.NavigateTo("PageToRedirect");
                //}
                lstControl = new List<SelectListItem>();
                moduleFieldInfo = new List<ModuleFieldInfo>();
                HomeBus homeBus = new HomeBus(moduleService, iConfiguration, distributedCache);
                var data = await homeBus.GetModule(modId);
                int userId = int.Parse("0" + ""/*HttpContext.Session.GetString("UserId")*/);
                var groupModUser = await moduleService.GetGroupModByUserId(userId);
                RoleUser = groupModUser;
                var module = homeBus.ConvertFromViewModel(data);
                Title = module.ModulesInfo.ModuleName.GetLanguageTitle(await homeBus.LoadAllBtnLanguage());
                ModuleInfo = module;
                var cb = module.FieldsInfo.Where(x => !String.IsNullOrEmpty(x.ListSource));
                var scdType = module.FieldsInfo.Select(x => x.ConditionType);
                if (cb.Any())
                {
                    var codeInfoParram = cb.Select(x => new CodeInfoParram
                    {
                        CtrlType = x.ControlType,
                        Name = x.FieldName,
                        ListSource = x.ListSource
                    });
                    //var para = string.Join("", sources);
                    var sourceCodeInfo = cb.Where(x => x.ListSource.Contains(":"));//Lấy những thông tin các ListSource từ DefCode
                    var codeInfoModels = new List<CodeInfoModel>();
                    if (sourceCodeInfo != null && sourceCodeInfo.Any())
                    {
                        var defCodeAll = await homeBus.LoadAllDefCode();
                        var lstSource = sourceCodeInfo.Select(x => x.ListSource).ToList();
                        var cbDefCode = defCodeAll.Where(x => lstSource.Contains(":" + x.CodeType + "." + x.CodeName));
                        foreach (var item in sourceCodeInfo)
                        {
                            codeInfoModels.Add(new CodeInfoModel { Name = item.FieldName, CodeInfos = cbDefCode.Where(x => ":" + x.CodeType + "." + x.CodeName == item.ListSource).ToList() });
                        }
                    }
                    var dataCB = (await moduleService.GetCombobox(codeInfoParram.Where(x => !x.ListSource.Contains(":")).ToList()));//Lấy thông tin các Combobox theo Store
                    codeInfoModels.AddRange(dataCB.Data);
                    DataCombobox = codeInfoModels;
                }

                var modSearch = await homeBus.LoadModSearchByModId(modId);
                if (modSearch != null)
                {
                    var parrams = new List<string>();
                    if (!string.IsNullOrEmpty(parramMods))
                    {
                        var btnParramInfo = (List<ButtonParamInfo>)JsonConvert.DeserializeObject<List<ButtonParamInfo>>(parramMods);
                        var temp = btnParramInfo.Select(x => x.FieldName + " = '" + x.Value + "'");
                        parrams.AddRange(temp);
                    }
                    var query = "";
                    if (modSearch.QueryFormat.IndexOf("{0}") > 0)
                    {
                        if (modSearch.QueryFormat.IndexOf("{1}") > 0)
                        {
                            var currPage = 1;
                            var paging = String.Format(" RowNumber Between {0} AND {1}", (currPage - 1) * CommonMethod.PageSize, (currPage - 1) * CommonMethod.PageSize + CommonMethod.PageSize);
                            query = string.Format(modSearch.QueryFormat, Schema, parrams.Any() ? String.Join(" AND ", parrams) : " 1=1 ", paging);
                            //ViewBag.CurrPage = currPage;
                        }
                        else
                        {
                            query = string.Format(modSearch.QueryFormat, Schema, parrams.Any() ? String.Join(" AND ", parrams) : " 1=1 ");
                        }
                    }
                    else
                    {
                        query = String.Format(modSearch.QueryFormat, Schema);
                    }
                    var dataGrid = await moduleService.LoadQueryModule(new ParramModuleQuery { Store = query });

                    //var dataGrid = await _moduleService.LoadQueryModule(new ParramModuleQuery { Store = modSearch.QueryFormat });
                    DataSearch = dataGrid;
                }

                //eturn View("Search", modId);
            }
            catch (Exception ex)
            {

                //return View("Search", modId);
            }
        }

    

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IModuleService moduleService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IDistributedCache distributedCache { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IConfiguration iConfiguration { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavigationManager { get; set; }
    }
}
#pragma warning restore 1591
